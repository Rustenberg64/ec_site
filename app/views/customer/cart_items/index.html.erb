
<div class="container">
<table class="table">
  <thead>
    <tr>
      <th scope="col">Image</th>
      <th scope="col">Name</th>
      <th scope="col">Manufacturer</th>
      <th scope="col">Price</th>
      <th scope="col">Quantity</th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <% @cart_items.each do |cart_item| %>
      <tr>
        <th scope="row"><%= image_tag cart_item.product.image, class: "img-fluid", size: '200x200' %></th>
        <td><%= cart_item.product.name %></td>
        <td><%= cart_item.product.manufacturer %></td>
        <td><%= cart_item.product.price %></td>
        <td>
        <%= form_with model: cart_item, url: cart_item_path(cart_item), class: "col-lg-6" do |f|%>

        <%= f.hidden_field :product_id, value: cart_item.product.id%>

        <div class="mb-3 col-4">
          <%= f.label :quantity, class: "form-label" %>
          <%= f.number_field :quantity, min:1, class: "form-control"%>
        </div>

       <div class="d-grid mb-5">
        <%= f.submit "Change Quantity", class: "btn btn-primary"  %>
      </div>

      <% end %>
        </td>
        <td><%= link_to "delete", cart_item_path(cart_item), data: { "turbo-method": :delete} %></td>
      </tr>
    <% end%>
  </tbody>
</table>

  </div>
</div>